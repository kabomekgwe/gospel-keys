{"openapi":"3.1.0","info":{"title":"Piano Keys API","description":"Multi-genre piano transcription and analysis API","version":"2.0.0"},"paths":{"/health":{"get":{"tags":["health"],"summary":"Health Check","description":"Basic health check endpoint","operationId":"health_check_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HealthResponse"}}}}}}},"/health/detailed":{"get":{"tags":["health"],"summary":"Detailed Health Check","description":"Detailed health check with component status","operationId":"detailed_health_check_health_detailed_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DetailedHealthResponse"}}}}}}},"/api/v1/transcribe/url":{"post":{"tags":["transcription"],"summary":"Transcribe From Url","description":"Start transcription from YouTube URL\n\nReturns immediately with job ID. Poll GET /transcribe/{job_id} for status.","operationId":"transcribe_from_url_api_v1_transcribe_url_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TranscribeUrlRequest"}}},"required":true},"responses":{"202":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TranscriptionJob"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/transcribe/upload":{"post":{"tags":["transcription"],"summary":"Transcribe From Upload","description":"Start transcription from uploaded audio/video file\n\nReturns immediately with job ID. Poll GET /transcribe/{job_id} for status.","operationId":"transcribe_from_upload_api_v1_transcribe_upload_post","requestBody":{"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_transcribe_from_upload_api_v1_transcribe_upload_post"}}},"required":true},"responses":{"202":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TranscriptionJob"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/transcribe/{job_id}":{"get":{"tags":["transcription"],"summary":"Get Job Status","description":"Get transcription job status and progress\n\nPoll this endpoint to track progress. When status is 'complete', the result field will be populated.","operationId":"get_job_status_api_v1_transcribe__job_id__get","parameters":[{"name":"job_id","in":"path","required":true,"schema":{"type":"string","title":"Job Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TranscriptionJob"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/transcribe/{job_id}/result":{"get":{"tags":["transcription"],"summary":"Get Job Result","description":"Get complete transcription result\n\nOnly available when job status is 'complete'. Returns full result with notes, chords, etc.","operationId":"get_job_result_api_v1_transcribe__job_id__result_get","parameters":[{"name":"job_id","in":"path","required":true,"schema":{"type":"string","title":"Job Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TranscriptionResult"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/jobs":{"get":{"tags":["jobs"],"summary":"List Jobs","description":"List all transcription jobs with optional filtering","operationId":"list_jobs_api_v1_jobs_get","parameters":[{"name":"status","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter by job status","title":"Status"},"description":"Filter by job status"},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"description":"Maximum number of jobs to return","default":20,"title":"Limit"},"description":"Maximum number of jobs to return"},{"name":"offset","in":"query","required":false,"schema":{"type":"integer","minimum":0,"description":"Number of jobs to skip","default":0,"title":"Offset"},"description":"Number of jobs to skip"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/TranscriptionJob"},"title":"Response List Jobs Api V1 Jobs Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/jobs/{job_id}":{"delete":{"tags":["jobs"],"summary":"Cancel Job","description":"Cancel a running transcription job\n\nIf the job is already complete or failed, this has no effect.","operationId":"cancel_job_api_v1_jobs__job_id__delete","parameters":[{"name":"job_id","in":"path","required":true,"schema":{"type":"string","title":"Job Id"}}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/jobs/{job_id}/result":{"delete":{"tags":["jobs"],"summary":"Delete Job","description":"Delete a job and all associated files\n\nThis removes the job from the system and cleans up uploaded/output files.","operationId":"delete_job_api_v1_jobs__job_id__result_delete","parameters":[{"name":"job_id","in":"path","required":true,"schema":{"type":"string","title":"Job Id"}}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/library/songs":{"get":{"tags":["library"],"summary":"List Songs","description":"List all songs in library with optional filtering\n\nFilters:\n- tag: Filter by tag name\n- search: Search in title or artist\n- favorites_only: Show only favorited songs","operationId":"list_songs_api_v1_library_songs_get","parameters":[{"name":"tag","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter by tag name","title":"Tag"},"description":"Filter by tag name"},{"name":"search","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Search in title or artist","title":"Search"},"description":"Search in title or artist"},{"name":"favorites_only","in":"query","required":false,"schema":{"type":"boolean","description":"Show only favorites","default":false,"title":"Favorites Only"},"description":"Show only favorites"},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"description":"Maximum results","default":50,"title":"Limit"},"description":"Maximum results"},{"name":"offset","in":"query","required":false,"schema":{"type":"integer","minimum":0,"description":"Results offset","default":0,"title":"Offset"},"description":"Results offset"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/SongSummary"},"title":"Response List Songs Api V1 Library Songs Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/library/songs/{song_id}":{"get":{"tags":["library"],"summary":"Get Song","description":"Get complete song details including notes, chords, and annotations\n\nAlso updates last_accessed_at timestamp","operationId":"get_song_api_v1_library_songs__song_id__get","parameters":[{"name":"song_id","in":"path","required":true,"schema":{"type":"string","title":"Song Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SongDetail"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["library"],"summary":"Update Song","description":"Update song metadata (title, artist, favorite, etc.)","operationId":"update_song_api_v1_library_songs__song_id__put","parameters":[{"name":"song_id","in":"path","required":true,"schema":{"type":"string","title":"Song Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SongUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["library"],"summary":"Delete Song","description":"Delete song and all related data (notes, chords, annotations, snippets)\n\nCascade delete will handle all relationships","operationId":"delete_song_api_v1_library_songs__song_id__delete","parameters":[{"name":"song_id","in":"path","required":true,"schema":{"type":"string","title":"Song Id"}}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/library/songs/{song_id}/tags":{"post":{"tags":["library"],"summary":"Add Tags","description":"Add tags to a song (creates tags if they don't exist)","operationId":"add_tags_api_v1_library_songs__song_id__tags_post","parameters":[{"name":"song_id","in":"path","required":true,"schema":{"type":"string","title":"Song Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"array","items":{"type":"string"},"title":"Tags"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/practice/session":{"post":{"tags":["practice"],"summary":"Create Practice Session","description":"Create a practice session with optional time-stretching and sectioning\n\nThis generates a time-stretched audio file if tempo_multiplier != 1.0\nand/or extracts a specific section if start_time/end_time are provided.","operationId":"create_practice_session_api_v1_practice_session_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PracticeSessionRequest"}}},"required":true},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PracticeSessionResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/practice/sessions":{"get":{"tags":["practice"],"summary":"List Practice Sessions","description":"List practice session history","operationId":"list_practice_sessions_api_v1_practice_sessions_get","parameters":[{"name":"song_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter by song ID","title":"Song Id"},"description":"Filter by song ID"},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"default":20,"title":"Limit"}},{"name":"offset","in":"query","required":false,"schema":{"type":"integer","minimum":0,"default":0,"title":"Offset"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/PracticeSessionResponse"},"title":"Response List Practice Sessions Api V1 Practice Sessions Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/practice/snippets/{snippet_id}/review":{"post":{"tags":["practice"],"summary":"Review Snippet","description":"Submit a practice review for a snippet.\nUpdates the scheduling based on SM-2 algorithm.","operationId":"review_snippet_api_v1_practice_snippets__snippet_id__review_post","parameters":[{"name":"snippet_id","in":"path","required":true,"schema":{"type":"string","title":"Snippet Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ReviewRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/practice/snippets/due":{"get":{"tags":["practice"],"summary":"Get Due Snippets","description":"Get snippets due for review today.","operationId":"get_due_snippets_api_v1_practice_snippets_due_get","parameters":[{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":10,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/library/songs/{song_id}/snippets":{"post":{"tags":["snippets & annotations"],"summary":"Create Snippet","description":"Create a practice snippet from a song section\n\nSnippets are extractable sections that can be practiced independently.","operationId":"create_snippet_api_v1_library_songs__song_id__snippets_post","parameters":[{"name":"song_id","in":"path","required":true,"schema":{"type":"string","title":"Song Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SnippetCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SnippetResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["snippets & annotations"],"summary":"List Snippets","description":"List all snippets for a song","operationId":"list_snippets_api_v1_library_songs__song_id__snippets_get","parameters":[{"name":"song_id","in":"path","required":true,"schema":{"type":"string","title":"Song Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/SnippetResponse"},"title":"Response List Snippets Api V1 Library Songs  Song Id  Snippets Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/snippets/{snippet_id}/midi":{"get":{"tags":["snippets & annotations"],"summary":"Export Snippet Midi","description":"Export snippet as isolated MIDI file\n\nTODO: Generate MIDI file with only notes within snippet time range","operationId":"export_snippet_midi_api_v1_snippets__snippet_id__midi_get","parameters":[{"name":"snippet_id","in":"path","required":true,"schema":{"type":"string","title":"Snippet Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/library/songs/{song_id}/annotations":{"post":{"tags":["snippets & annotations"],"summary":"Create Annotation","description":"Add an annotation to a song at a specific timestamp\n\nAnnotations are user notes/insights attached to moments in the song.","operationId":"create_annotation_api_v1_library_songs__song_id__annotations_post","parameters":[{"name":"song_id","in":"path","required":true,"schema":{"type":"string","title":"Song Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AnnotationCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AnnotationResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["snippets & annotations"],"summary":"List Annotations","description":"Get all annotations for a song ordered by timestamp","operationId":"list_annotations_api_v1_library_songs__song_id__annotations_get","parameters":[{"name":"song_id","in":"path","required":true,"schema":{"type":"string","title":"Song Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/AnnotationResponse"},"title":"Response List Annotations Api V1 Library Songs  Song Id  Annotations Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/annotations/{annotation_id}":{"delete":{"tags":["snippets & annotations"],"summary":"Delete Annotation","description":"Delete an annotation","operationId":"delete_annotation_api_v1_annotations__annotation_id__delete","parameters":[{"name":"annotation_id","in":"path","required":true,"schema":{"type":"integer","title":"Annotation Id"}}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/export/songs/{song_id}/musicxml":{"post":{"tags":["export"],"summary":"Export Song To Musicxml","description":"Export song as MusicXML for notation software (MuseScore, Finale, Sibelius)\n\nReturns a downloadable .musicxml file","operationId":"export_song_to_musicxml_api_v1_export_songs__song_id__musicxml_post","parameters":[{"name":"song_id","in":"path","required":true,"schema":{"type":"string","title":"Song Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/export/songs/{song_id}/midi":{"post":{"tags":["export"],"summary":"Export Quantized Midi","description":"Export song as quantized MIDI for cleaner notation\n\nQuantization options:\n- quarter: Quarter note grid\n- 8th: Eighth note grid  \n- 16th: Sixteenth note grid (default)\n- 32nd: Thirty-second note grid\n\nReturns a downloadable .mid file","operationId":"export_quantized_midi_api_v1_export_songs__song_id__midi_post","parameters":[{"name":"song_id","in":"path","required":true,"schema":{"type":"string","title":"Song Id"}},{"name":"quantize","in":"query","required":false,"schema":{"type":"string","pattern":"^(quarter|8th|16th|32nd)$","default":"16th","title":"Quantize"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/analyze/genre":{"post":{"tags":["analysis"],"summary":"Analyze Song Genre","description":"Detect genre and subgenre classification\n\nAnalyzes:\n- Primary genre (gospel, jazz, blues, classical, contemporary)\n- Subgenres (bebop, cool jazz, traditional gospel, etc.)\n- Confidence scores\n- Musical characteristics","operationId":"analyze_song_genre_api_v1_analyze_genre_post","parameters":[{"name":"song_id","in":"query","required":true,"schema":{"type":"string","title":"Song Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/analyze/jazz-patterns":{"post":{"tags":["analysis"],"summary":"Analyze Jazz Progression Patterns","description":"Detect jazz-specific patterns\n\nDetects:\n- ii-V-I progressions\n- Turnarounds (I-VI-ii-V)\n- Tritone substitutions\n- Jazz complexity score","operationId":"analyze_jazz_progression_patterns_api_v1_analyze_jazz_patterns_post","parameters":[{"name":"song_id","in":"query","required":true,"schema":{"type":"string","title":"Song Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/analyze/pitch-tracking":{"post":{"tags":["analysis"],"summary":"Track Pitch With Crepe","description":"Neural pitch tracking with CREPE\n\nArgs:\n    song_id: Song UUID\n    model_capacity: \"tiny\", \"small\", \"medium\", \"large\", \"full\"\n    detect_blue_notes_flag: Detect microtonal/blue notes\n    detect_vibrato_flag: Detect vibrato regions\n\nReturns:\n    - Detailed pitch contour\n    - Blue notes (if enabled)\n    - Vibrato regions (if enabled)\n    - Pitch bends analysis","operationId":"track_pitch_with_crepe_api_v1_analyze_pitch_tracking_post","parameters":[{"name":"song_id","in":"query","required":true,"schema":{"type":"string","title":"Song Id"}},{"name":"model_capacity","in":"query","required":false,"schema":{"type":"string","default":"medium","title":"Model Capacity"}},{"name":"detect_blue_notes_flag","in":"query","required":false,"schema":{"type":"boolean","default":true,"title":"Detect Blue Notes Flag"}},{"name":"detect_vibrato_flag","in":"query","required":false,"schema":{"type":"boolean","default":true,"title":"Detect Vibrato Flag"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/analyze/chord-library":{"get":{"tags":["analysis"],"summary":"Get Extended Chord Library","description":"Get extended chord template library\n\nReturns jazz voicings and chord templates for reference.\n\nArgs:\n    genre: Filter by genre (e.g., \"jazz\")","operationId":"get_extended_chord_library_api_v1_analyze_chord_library_get","parameters":[{"name":"genre","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Genre"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/analyze/melody":{"post":{"tags":["analysis"],"summary":"Extract Melody Line","description":"Extract primary melody line\n\nUses pitch tracking to identify the melodic contour.\nNote: For now uses CREPE. In future can use MELODIA (Essentia).","operationId":"extract_melody_line_api_v1_analyze_melody_post","parameters":[{"name":"song_id","in":"query","required":true,"schema":{"type":"string","title":"Song Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/analyze/blues-form":{"post":{"tags":["analysis"],"summary":"Analyze Blues Form","description":"Detect Blues forms (12-bar, shuffle, etc)","operationId":"analyze_blues_form_api_v1_analyze_blues_form_post","parameters":[{"name":"song_id","in":"query","required":true,"schema":{"type":"string","title":"Song Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/analyze/classical-form":{"post":{"tags":["analysis"],"summary":"Analyze Classical Form","description":"Analyze Classical form structural markers","operationId":"analyze_classical_form_api_v1_analyze_classical_form_post","parameters":[{"name":"song_id","in":"query","required":true,"schema":{"type":"string","title":"Song Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/analyze/compare":{"post":{"tags":["analysis"],"summary":"Compare Transcription Engines","description":"Run and compare multiple transcription engines (Basic Pitch vs others)","operationId":"compare_transcription_engines_api_v1_analyze_compare_post","parameters":[{"name":"song_id","in":"query","required":true,"schema":{"type":"string","title":"Song Id"}}],"requestBody":{"content":{"application/json":{"schema":{"type":"array","items":{"type":"string"},"default":["basic-pitch"],"title":"Engines"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/ai/generators":{"get":{"tags":["AI Generator"],"summary":"List Generators","description":"Get list of all available AI generators by category","operationId":"list_generators_api_v1_ai_generators_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GeneratorsListResponse"}}}}}}},"/api/v1/ai/progression":{"post":{"tags":["AI Generator"],"summary":"Generate Progression","description":"Generate a chord progression based on style, mood, and key","operationId":"generate_progression_api_v1_ai_progression_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProgressionRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProgressionResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/ai/reharmonization":{"post":{"tags":["AI Generator"],"summary":"Generate Reharmonization","description":"Get reharmonization suggestions for an existing progression","operationId":"generate_reharmonization_api_v1_ai_reharmonization_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ReharmonizationRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ReharmonizationResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/ai/voicing":{"post":{"tags":["AI Generator"],"summary":"Generate Voicings","description":"Generate multiple voicing options for a chord","operationId":"generate_voicings_api_v1_ai_voicing_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/VoicingRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/VoicingResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/ai/voice-leading":{"post":{"tags":["AI Generator"],"summary":"Optimize Voice Leading","description":"Find optimal voice leading between two chords","operationId":"optimize_voice_leading_api_v1_ai_voice_leading_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/VoiceLeadingRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/VoiceLeadingResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/ai/exercise":{"post":{"tags":["AI Generator"],"summary":"Generate Exercise","description":"Generate a practice exercise","operationId":"generate_exercise_api_v1_ai_exercise_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ExerciseRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ExerciseResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/ai/substitution":{"post":{"tags":["AI Generator"],"summary":"Get Substitutions","description":"Get chord substitution suggestions","operationId":"get_substitutions_api_v1_ai_substitution_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SubstitutionRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SubstitutionResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/files/{job_id}/{filename}":{"get":{"summary":"Serve File","description":"Serve output files (MIDI, audio, etc.)","operationId":"serve_file_files__job_id___filename__get","parameters":[{"name":"job_id","in":"path","required":true,"schema":{"type":"string","title":"Job Id"}},{"name":"filename","in":"path","required":true,"schema":{"type":"string","title":"Filename"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/":{"get":{"summary":"Root","description":"API root","operationId":"root__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}}},"components":{"schemas":{"AnnotationCreate":{"properties":{"time":{"type":"number","minimum":0.0,"title":"Time","description":"Timestamp in seconds"},"note_text":{"type":"string","minLength":1,"title":"Note Text"},"type":{"type":"string","pattern":"^(practice_note|theory_insight|fingering|question|other)$","title":"Type","default":"practice_note"}},"type":"object","required":["time","note_text"],"title":"AnnotationCreate","description":"Create a new annotation"},"AnnotationResponse":{"properties":{"id":{"type":"integer","title":"Id"},"song_id":{"type":"string","title":"Song Id"},"time":{"type":"number","title":"Time"},"note_text":{"type":"string","title":"Note Text"},"type":{"type":"string","title":"Type"},"created_at":{"type":"string","format":"date-time","title":"Created At"}},"type":"object","required":["id","song_id","time","note_text","type","created_at"],"title":"AnnotationResponse","description":"Annotation response"},"Body_transcribe_from_upload_api_v1_transcribe_upload_post":{"properties":{"file":{"type":"string","format":"binary","title":"File"},"isolate_piano":{"type":"boolean","title":"Isolate Piano","default":true},"detect_chords":{"type":"boolean","title":"Detect Chords","default":true},"detect_tempo":{"type":"boolean","title":"Detect Tempo","default":true},"detect_key":{"type":"boolean","title":"Detect Key","default":true}},"type":"object","required":["file"],"title":"Body_transcribe_from_upload_api_v1_transcribe_upload_post"},"ChordEvent":{"properties":{"time":{"type":"number","minimum":0.0,"title":"Time","description":"Chord start time in seconds"},"duration":{"type":"number","exclusiveMinimum":0.0,"title":"Duration","description":"Chord duration in seconds"},"chord":{"type":"string","title":"Chord","description":"Chord name (e.g., 'Cmaj7', 'Dm9')"},"confidence":{"type":"number","maximum":1.0,"minimum":0.0,"title":"Confidence","description":"Detection confidence"},"root":{"type":"string","title":"Root","description":"Root note (e.g., 'C', 'D')"},"quality":{"type":"string","title":"Quality","description":"Chord quality (e.g., 'maj7', 'm9')"},"bass_note":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Bass Note","description":"Bass note for slash chords"},"voicing_notes":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Voicing Notes","description":"Actual notes in the voicing"}},"type":"object","required":["time","duration","chord","confidence","root","quality"],"title":"ChordEvent","description":"Detected chord event"},"ChordInfo":{"properties":{"symbol":{"type":"string","title":"Symbol","description":"Chord symbol"},"notes":{"items":{"type":"string"},"type":"array","title":"Notes","description":"Note names in the chord"},"midi_notes":{"items":{"type":"integer"},"type":"array","title":"Midi Notes","description":"MIDI note numbers"},"function":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Function","description":"Harmonic function (I, ii, V, etc.)"},"comment":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Comment","description":"Additional explanation"}},"type":"object","required":["symbol","notes","midi_notes"],"title":"ChordInfo","description":"Information about a single chord"},"DetailedHealthResponse":{"properties":{"status":{"type":"string","title":"Status","description":"Overall status"},"service":{"type":"string","title":"Service","description":"Service name"},"version":{"type":"string","title":"Version","description":"API version"},"checks":{"additionalProperties":{"type":"boolean"},"type":"object","title":"Checks","description":"Individual component checks"}},"type":"object","required":["status","service","version","checks"],"title":"DetailedHealthResponse","description":"Detailed health check response"},"Difficulty":{"type":"string","enum":["beginner","intermediate","advanced"],"title":"Difficulty","description":"Difficulty levels"},"ExerciseRequest":{"properties":{"type":{"$ref":"#/components/schemas/ExerciseType","description":"Type of exercise"},"key":{"type":"string","title":"Key","description":"Musical key","default":"C"},"difficulty":{"$ref":"#/components/schemas/Difficulty","description":"Difficulty level","default":"intermediate"},"focus":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Focus","description":"Specific focus area"}},"type":"object","required":["type"],"title":"ExerciseRequest","description":"Request for practice exercise generation"},"ExerciseResponse":{"properties":{"title":{"type":"string","title":"Title","description":"Exercise title"},"description":{"type":"string","title":"Description","description":"What this exercise develops"},"steps":{"items":{"$ref":"#/components/schemas/ExerciseStep"},"type":"array","title":"Steps","description":"Exercise steps"},"variations":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Variations","description":"Variation ideas"},"difficulty":{"type":"string","title":"Difficulty","description":"Difficulty level"}},"type":"object","required":["title","description","steps","difficulty"],"title":"ExerciseResponse","description":"Response with generated exercise"},"ExerciseStep":{"properties":{"instruction":{"type":"string","title":"Instruction","description":"What to practice"},"notes":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Notes","description":"Notes involved"},"midi_notes":{"anyOf":[{"items":{"type":"integer"},"type":"array"},{"type":"null"}],"title":"Midi Notes","description":"MIDI notes"},"duration":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Duration","description":"How long to hold/play"}},"type":"object","required":["instruction"],"title":"ExerciseStep","description":"A step in an exercise"},"ExerciseType":{"type":"string","enum":["scales","arpeggios","progressions","voice_leading","rhythm"],"title":"ExerciseType","description":"Types of practice exercises"},"GeneratorCategory":{"type":"string","enum":["progressions","voicings","exercises","analysis"],"title":"GeneratorCategory","description":"Categories of AI generators"},"GeneratorInfo":{"properties":{"id":{"type":"string","title":"Id","description":"Generator ID"},"name":{"type":"string","title":"Name","description":"Display name"},"description":{"type":"string","title":"Description","description":"What it does"},"category":{"$ref":"#/components/schemas/GeneratorCategory","description":"Category"}},"type":"object","required":["id","name","description","category"],"title":"GeneratorInfo","description":"Information about an available generator"},"GeneratorsListResponse":{"properties":{"generators":{"additionalProperties":{"items":{"$ref":"#/components/schemas/GeneratorInfo"},"type":"array"},"type":"object","title":"Generators","description":"Generators grouped by category"}},"type":"object","required":["generators"],"title":"GeneratorsListResponse","description":"List of available generators"},"GospelPattern":{"properties":{"pattern_type":{"type":"string","title":"Pattern Type","description":"Pattern type (e.g., '2-5-1', 'passing_diminished')"},"start_time":{"type":"number","minimum":0.0,"title":"Start Time","description":"Pattern start time"},"end_time":{"type":"number","minimum":0.0,"title":"End Time","description":"Pattern end time"},"chords":{"items":{"type":"string"},"type":"array","title":"Chords","description":"Chord names in the pattern"},"key":{"type":"string","title":"Key","description":"Key of the pattern"},"description":{"type":"string","title":"Description","description":"Human-readable explanation"}},"type":"object","required":["pattern_type","start_time","end_time","chords","key","description"],"title":"GospelPattern","description":"Detected gospel progression pattern"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"HealthResponse":{"properties":{"status":{"type":"string","title":"Status","description":"Service status"},"service":{"type":"string","title":"Service","description":"Service name"}},"type":"object","required":["status","service"],"title":"HealthResponse","description":"Health check response"},"JobStatus":{"type":"string","enum":["pending","downloading","processing","analyzing","complete","error","cancelled"],"title":"JobStatus","description":"Transcription job status"},"Mood":{"type":"string","enum":["happy","sad","tense","peaceful","energetic","mysterious","romantic"],"title":"Mood","description":"Emotional mood for generated content"},"NoteEvent":{"properties":{"pitch":{"type":"integer","maximum":127.0,"minimum":0.0,"title":"Pitch","description":"MIDI pitch (0-127)"},"start_time":{"type":"number","minimum":0.0,"title":"Start Time","description":"Note start time in seconds"},"end_time":{"type":"number","minimum":0.0,"title":"End Time","description":"Note end time in seconds"},"velocity":{"type":"integer","maximum":127.0,"minimum":0.0,"title":"Velocity","description":"Note velocity (0-127)"}},"type":"object","required":["pitch","start_time","end_time","velocity"],"title":"NoteEvent","description":"Individual MIDI note event"},"PracticeSessionRequest":{"properties":{"song_id":{"type":"string","title":"Song Id"},"start_time":{"anyOf":[{"type":"number","minimum":0.0},{"type":"null"}],"title":"Start Time","description":"Start time in seconds"},"end_time":{"anyOf":[{"type":"number","exclusiveMinimum":0.0},{"type":"null"}],"title":"End Time","description":"End time in seconds"},"tempo_multiplier":{"type":"number","maximum":2.0,"exclusiveMinimum":0.25,"title":"Tempo Multiplier","description":"Tempo multiplier (0.5-2.0)","default":1.0},"loop":{"type":"boolean","title":"Loop","description":"Loop the section","default":false},"duration_seconds":{"type":"integer","minimum":0.0,"title":"Duration Seconds","description":"Practice duration","default":0},"notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Notes"}},"type":"object","required":["song_id"],"title":"PracticeSessionRequest","description":"Request to create a practice session"},"PracticeSessionResponse":{"properties":{"id":{"type":"integer","title":"Id"},"song_id":{"type":"string","title":"Song Id"},"audio_url":{"type":"string","title":"Audio Url"},"tempo_multiplier":{"type":"number","title":"Tempo Multiplier"},"duration_seconds":{"type":"integer","title":"Duration Seconds"},"notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Notes"},"created_at":{"type":"string","format":"date-time","title":"Created At"}},"type":"object","required":["id","song_id","audio_url","tempo_multiplier","duration_seconds","created_at"],"title":"PracticeSessionResponse","description":"Practice session response"},"ProgressionRequest":{"properties":{"key":{"type":"string","title":"Key","description":"Musical key (e.g., C, F#, Bb)","default":"C"},"mode":{"type":"string","title":"Mode","description":"Scale mode (major, minor, dorian, etc.)","default":"major"},"style":{"$ref":"#/components/schemas/ProgressionStyle","description":"Musical style","default":"jazz"},"mood":{"anyOf":[{"$ref":"#/components/schemas/Mood"},{"type":"null"}],"description":"Emotional mood"},"length":{"type":"integer","maximum":16.0,"minimum":2.0,"title":"Length","description":"Number of chords in progression","default":4},"include_extensions":{"type":"boolean","title":"Include Extensions","description":"Include 7ths, 9ths, etc.","default":true}},"type":"object","title":"ProgressionRequest","description":"Request for chord progression generation"},"ProgressionResponse":{"properties":{"progression":{"items":{"$ref":"#/components/schemas/ChordInfo"},"type":"array","title":"Progression","description":"Generated chords"},"key":{"type":"string","title":"Key","description":"Key of the progression"},"style":{"type":"string","title":"Style","description":"Style applied"},"analysis":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Analysis","description":"Brief analysis of the progression"},"tips":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Tips","description":"Performance tips"}},"type":"object","required":["progression","key","style"],"title":"ProgressionResponse","description":"Response with generated progression"},"ProgressionStyle":{"type":"string","enum":["jazz","gospel","pop","classical","neo_soul","rnb","blues"],"title":"ProgressionStyle","description":"Musical styles for progression generation"},"ReharmonizationRequest":{"properties":{"original_progression":{"items":{"type":"string"},"type":"array","title":"Original Progression","description":"Original chord symbols"},"key":{"type":"string","title":"Key","description":"Musical key","default":"C"},"style":{"$ref":"#/components/schemas/ProgressionStyle","description":"Target style","default":"jazz"}},"type":"object","required":["original_progression"],"title":"ReharmonizationRequest","description":"Request for reharmonization suggestions"},"ReharmonizationResponse":{"properties":{"original":{"items":{"type":"string"},"type":"array","title":"Original","description":"Original progression"},"reharmonized":{"items":{"$ref":"#/components/schemas/ChordInfo"},"type":"array","title":"Reharmonized","description":"Reharmonized version"},"explanation":{"type":"string","title":"Explanation","description":"Explanation of changes"},"techniques_used":{"items":{"type":"string"},"type":"array","title":"Techniques Used","description":"Reharmonization techniques applied"}},"type":"object","required":["original","reharmonized","explanation","techniques_used"],"title":"ReharmonizationResponse","description":"Response with reharmonization options"},"ReviewRequest":{"properties":{"quality":{"type":"integer","maximum":5.0,"minimum":0.0,"title":"Quality","description":"0=Blackout, 5=Perfect"}},"type":"object","required":["quality"],"title":"ReviewRequest","description":"Review rating submission"},"SnippetCreate":{"properties":{"label":{"type":"string","maxLength":100,"minLength":1,"title":"Label"},"start_time":{"type":"number","minimum":0.0,"title":"Start Time"},"end_time":{"type":"number","exclusiveMinimum":0.0,"title":"End Time"},"difficulty":{"anyOf":[{"type":"string","pattern":"^(beginner|intermediate|advanced)$"},{"type":"null"}],"title":"Difficulty"},"notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Notes"}},"type":"object","required":["label","start_time","end_time"],"title":"SnippetCreate","description":"Create a new snippet"},"SnippetResponse":{"properties":{"id":{"type":"string","title":"Id"},"song_id":{"type":"string","title":"Song Id"},"label":{"type":"string","title":"Label"},"start_time":{"type":"number","title":"Start Time"},"end_time":{"type":"number","title":"End Time"},"difficulty":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Difficulty"},"notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Notes"},"practice_count":{"type":"integer","title":"Practice Count"},"created_at":{"type":"string","format":"date-time","title":"Created At"}},"type":"object","required":["id","song_id","label","start_time","end_time","practice_count","created_at"],"title":"SnippetResponse","description":"Snippet response"},"SongDetail":{"properties":{"id":{"type":"string","title":"Id"},"title":{"type":"string","title":"Title"},"artist":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Artist"},"source_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Source Url"},"source_file":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Source File"},"duration":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Duration"},"tempo":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Tempo"},"key_signature":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Key Signature"},"time_signature":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Time Signature"},"difficulty":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Difficulty"},"midi_file_path":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Midi File Path"},"note_count":{"type":"integer","title":"Note Count","default":0},"chord_count":{"type":"integer","title":"Chord Count","default":0},"annotation_count":{"type":"integer","title":"Annotation Count","default":0},"snippet_count":{"type":"integer","title":"Snippet Count","default":0},"favorite":{"type":"boolean","title":"Favorite","default":false},"created_at":{"type":"string","format":"date-time","title":"Created At"},"last_accessed_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Last Accessed At"}},"type":"object","required":["id","title","created_at"],"title":"SongDetail","description":"Detailed song information"},"SongSummary":{"properties":{"id":{"type":"string","title":"Id"},"title":{"type":"string","title":"Title"},"artist":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Artist"},"duration":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Duration"},"tempo":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Tempo"},"key_signature":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Key Signature"},"favorite":{"type":"boolean","title":"Favorite","default":false},"created_at":{"type":"string","format":"date-time","title":"Created At"},"last_accessed_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Last Accessed At"}},"type":"object","required":["id","title","created_at"],"title":"SongSummary","description":"Summary view of a song for list displays"},"SongUpdate":{"properties":{"title":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Title"},"artist":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Artist"},"difficulty":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Difficulty"},"favorite":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Favorite"}},"type":"object","title":"SongUpdate","description":"Update song metadata"},"SubstitutionRequest":{"properties":{"chord":{"type":"string","title":"Chord","description":"Chord to substitute"},"context":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Context","description":"Surrounding chords for context"},"style":{"$ref":"#/components/schemas/ProgressionStyle","description":"Style context","default":"jazz"}},"type":"object","required":["chord"],"title":"SubstitutionRequest","description":"Request for chord substitution suggestions"},"SubstitutionResponse":{"properties":{"original":{"type":"string","title":"Original","description":"Original chord"},"substitutions":{"items":{"$ref":"#/components/schemas/ChordInfo"},"type":"array","title":"Substitutions","description":"Substitution options"},"explanations":{"additionalProperties":{"type":"string"},"type":"object","title":"Explanations","description":"Explanation for each sub"}},"type":"object","required":["original","substitutions","explanations"],"title":"SubstitutionResponse","description":"Response with substitution options"},"TranscribeUrlRequest":{"properties":{"url":{"type":"string","title":"Url","description":"YouTube video URL"},"options":{"$ref":"#/components/schemas/TranscriptionOptions"}},"type":"object","required":["url"],"title":"TranscribeUrlRequest","description":"Request to transcribe from YouTube URL"},"TranscriptionJob":{"properties":{"job_id":{"type":"string","title":"Job Id","description":"Unique job ID"},"status":{"$ref":"#/components/schemas/JobStatus","description":"Current job status"},"progress":{"type":"integer","maximum":100.0,"minimum":0.0,"title":"Progress","description":"Progress percentage","default":0},"current_step":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Current Step","description":"Current processing step"},"source_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Source Url","description":"YouTube URL (if URL-based)"},"source_file":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Source File","description":"Uploaded filename (if file-based)"},"options":{"$ref":"#/components/schemas/TranscriptionOptions","description":"Processing options"},"result":{"anyOf":[{"$ref":"#/components/schemas/TranscriptionResult"},{"type":"null"}],"description":"Result when complete"},"error_message":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Error Message","description":"Error message if failed"},"created_at":{"type":"string","format":"date-time","title":"Created At","description":"Job creation time"},"started_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Started At","description":"Processing start time"},"completed_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Completed At","description":"Processing completion time"}},"type":"object","required":["job_id","status","options"],"title":"TranscriptionJob","description":"Transcription job tracking"},"TranscriptionOptions":{"properties":{"isolate_piano":{"type":"boolean","title":"Isolate Piano","description":"Use source separation to isolate piano","default":true},"detect_chords":{"type":"boolean","title":"Detect Chords","description":"Perform chord detection","default":true},"detect_tempo":{"type":"boolean","title":"Detect Tempo","description":"Estimate tempo","default":true},"detect_key":{"type":"boolean","title":"Detect Key","description":"Detect musical key","default":true},"start_time":{"anyOf":[{"type":"number","minimum":0.0},{"type":"null"}],"title":"Start Time","description":"Process from this timestamp (seconds)"},"end_time":{"anyOf":[{"type":"number","exclusiveMinimum":0.0},{"type":"null"}],"title":"End Time","description":"Process until this timestamp (seconds)"}},"type":"object","title":"TranscriptionOptions","description":"Options for transcription processing"},"TranscriptionResult":{"properties":{"song_id":{"type":"string","title":"Song Id","description":"ID of the created song (same as job ID)"},"notes":{"items":{"$ref":"#/components/schemas/NoteEvent"},"type":"array","title":"Notes","description":"Detected MIDI notes"},"chords":{"items":{"$ref":"#/components/schemas/ChordEvent"},"type":"array","title":"Chords","description":"Detected chords"},"patterns":{"items":{"$ref":"#/components/schemas/GospelPattern"},"type":"array","title":"Patterns","description":"Gospel patterns (Phase 2)"},"tempo":{"anyOf":[{"type":"number","exclusiveMinimum":0.0},{"type":"null"}],"title":"Tempo","description":"Estimated tempo in BPM"},"time_signature":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Time Signature","description":"Time signature (e.g., '4/4')"},"key":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Key","description":"Detected key (e.g., 'C major', 'G minor')"},"duration":{"type":"number","exclusiveMinimum":0.0,"title":"Duration","description":"Total duration in seconds"},"difficulty":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Difficulty","description":"Difficulty level"},"midi_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Midi Url","description":"URL to download MIDI file"},"source_title":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Source Title","description":"Original video/file title"}},"type":"object","required":["song_id","notes","duration"],"title":"TranscriptionResult","description":"Complete transcription result"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"},"VoiceLeadingRequest":{"properties":{"chord1":{"type":"string","title":"Chord1","description":"Starting chord"},"chord2":{"type":"string","title":"Chord2","description":"Target chord"},"style":{"anyOf":[{"$ref":"#/components/schemas/ProgressionStyle"},{"type":"null"}],"description":"Style context"}},"type":"object","required":["chord1","chord2"],"title":"VoiceLeadingRequest","description":"Request for voice leading optimization"},"VoiceLeadingResponse":{"properties":{"chord1":{"$ref":"#/components/schemas/VoicingInfo","description":"Starting voicing"},"chord2":{"$ref":"#/components/schemas/VoicingInfo","description":"Target voicing"},"common_tones":{"items":{"type":"string"},"type":"array","title":"Common Tones","description":"Common tones held"},"movement":{"type":"string","title":"Movement","description":"Description of voice movement"},"tips":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Tips","description":"Performance tips"}},"type":"object","required":["chord1","chord2","common_tones","movement"],"title":"VoiceLeadingResponse","description":"Response with voice leading paths"},"VoicingInfo":{"properties":{"name":{"type":"string","title":"Name","description":"Voicing name/description"},"notes":{"items":{"type":"string"},"type":"array","title":"Notes","description":"Note names from low to high"},"midi_notes":{"items":{"type":"integer"},"type":"array","title":"Midi Notes","description":"MIDI note numbers"},"fingering":{"anyOf":[{"items":{"type":"integer"},"type":"array"},{"type":"null"}],"title":"Fingering","description":"Fingering (1-5 for each note)"},"hand":{"type":"string","title":"Hand","description":"Which hand(s)","default":"both"}},"type":"object","required":["name","notes","midi_notes"],"title":"VoicingInfo","description":"Information about a chord voicing"},"VoicingRequest":{"properties":{"chord":{"type":"string","title":"Chord","description":"Chord symbol (e.g., Cmaj7, Dm9, G7#11)"},"style":{"$ref":"#/components/schemas/VoicingStyle","description":"Voicing style","default":"open"},"hand":{"type":"string","title":"Hand","description":"'left', 'right', or 'both'","default":"both"},"include_fingering":{"type":"boolean","title":"Include Fingering","description":"Include fingering suggestions","default":true}},"type":"object","required":["chord"],"title":"VoicingRequest","description":"Request for chord voicing generation"},"VoicingResponse":{"properties":{"chord":{"type":"string","title":"Chord","description":"Original chord symbol"},"voicings":{"items":{"$ref":"#/components/schemas/VoicingInfo"},"type":"array","title":"Voicings","description":"Voicing options"},"tips":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Tips","description":"Performance tips"}},"type":"object","required":["chord","voicings"],"title":"VoicingResponse","description":"Response with voicing options"},"VoicingStyle":{"type":"string","enum":["open","closed","drop2","drop3","rootless","spread","gospel"],"title":"VoicingStyle","description":"Voicing styles for chord voicings"}}}}